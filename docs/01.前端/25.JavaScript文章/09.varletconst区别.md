---
title: varletconst区别
date: 2021-07-23 13:22:39
permalink: /pages/9d251b/
categories:
  - 前端
  - JavaScript文章
tags:
  - 
---
es6的新特性
- 变量提升
- 暂时性时区
- 常量变量
<!-- more -->
## var 和let const的区别
- var 是ES5语法，let const 是es6语法，

-  var 有变量提升

- var和let 是变量，可修改；const是常量，不可修改

- let const 有块级作用域，var没有

- 作用域不同(是否含有块级元素)
  - 块级作用域：声明的变量只在该代码块作用域内有效
  - var没有块级作用域，let、const有块级作用域
- 是否存在暂时性死区
  - let和const定义的变量是存在暂时性死区的，而var没有，原理如下：
  - 对于var而言，当进入var变量的作用域时，会立即为它创建存储空间，并对它进行初始化，赋值为undefined，当函数加载到变量声明语句时，会根据语句对变量赋值。
  - 而let和const却不一样，当进入let变量的作用域时，会立即给它创建存储空间，但是不会对它进行初始化
- 是否存在变量提升
  - 变量提升：变量在声明之前可以使用
  - var声明的变量存在变量提升，let、const不存在变量提升
- 能否重复声明
  - var声明的可以重复声明, let 和const声明的不可以重复声明
- 变量能否被修改
  - var、let声明的变量可以被修改，const声明的常量不可修改

## var是什么作用域

```
 var的作用域是在被定义的时候决定的，如下：
- 在函数内部定义的话，那么var就是局部变量，其作用域称为函数作用域/局部作用域
- 在函数外部定义的话，那么var就是全局变量，其作用域称为全局作用域
```

## 变量提升和函数提升的相关问题

```js
//1
var a = 1;
function b(){
  var a = 2;
  console.log(a)   //输出的是什么 为什么
}
b()

//2
var a = 1; 
function a(){
	
}
console.log(a)  //输出的是什么 为什么
//3
var a = 1;
function a(){
	console.log(a);
}
a()//输出的是什么 为什么
```

- 首先第一个输出的是`2`,这个涉及的就是作用域问题，因为在`b()`内部定义变量`a`，所有先访问函数内部的变量`a`,所有输出的是`2`,如果函数内部没有定义变量`a`，那么就访问全局中定义的`a`，输出的机会是`1`
- 第二个输出的是`1`，这里隐藏了变量提升和函数提升的优先级，`函数声明提升>变量声明提升`.当js解析器在遇到函数声明时，会优先将其提升到定义体顶部，其次再是`var声明的变量`，这样就导致`函数a被变量a给覆盖的情况`，所以最终将打印`1`。
- 第三个输出的是`TypeError: a is not a function`,这个和第二个类似，`函数a被变量a给覆盖`，所以当调用`a()`的时候，就会报错因为`a`只是一个变量了。

```js
//3
var a = 1;
function a(){
	console.log(a);
}
// a()
console.log(a); // 输出的是 1
```

## const声明的常量不可以改变=>const声明的对象属性是否可以改变？**

```js
const obj = {
    name:"大海",
    age: 18
}
obj.age = 20;
console.log(`name:${obj.name},age:${obj.age}`); 
//输出 name:大海,age:20
```

因为对象是引用类型的，`obj`中保存的仅是对象的指针，这就意味着，`const`仅保证指针不发生改变，修改对象的属性不会改变对象的指针，所以是被允许的。也就是说`const`定义的引用类型只要指针不发生改变，其他的不论如何改变都是允许的。

```js
const obj = {
    name:"大海",
    age: 18
}
// obj.age = 20;
// console.log(`name:${obj.name},age:${obj.age}`);
obj={name:"大海",age:18}
console.log(`name:${obj.name},age:${obj.age}`);
复制代码
```

即使对象的内容没改变，指针改变了也是不可以的


![image.png](https://gitee.com/sheep101/typora-img-save/raw/master/img/20210723133855.png)