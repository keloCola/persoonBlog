---
title: 原型链基本性质
date: 2021-07-15 17:36:13
permalink: /pages/d4f374/
categories:
  - 前端
  - JavaScript文章
tags:
  - 
---
# 原型链基本性质

## 原型规则

- 所有的引用类型（数组 对象 函数）都具有对象属性，既可以自由扩展属性（除了‘null’ 意外）

- 所有的引用类型（数据、对象、函数）都具有一个_ proto _ 属性，属性值是一个普通对象（约定成隐式原型属性 _ proto  _）

- 所有的函数，都有一个prototype属性，属性值也是一个普通的对象（约定成显式原型属性 prototype）

- 所有的引用类型（数组，对象，函数），_proto_属性值指向它的构造函数的“prototype”属性值

- ```js
  var obj = {}
  console.log(obj._proto_ === Object.prototype)//true
  ```

- 当试图得到一个对象的某个属性时，如果这个对象本身没有这个属性，那么会去它的_proto_ （即它的构造函数的prototype）中寻找。

```js
// 构造函数
function Foo(name,age){
	this.name=name
}
Foo.prototype.aleraName=function(){
	alert(this.name)
}
// 创建实例
var f = new Foo('zhangsan')
f.printName=function (){
	console.log(this.name)
}
// 测试
f.printName() //zhangsan
f.aleraName() //f->_proto_->Foo的prototype-> Foo.prototype.aleraName

```

![image-20210512104003869](https://gitee.com/sheep101/typora-img-save/raw/master/img/20210707111155.png)

## 创建对象的几种方法



```js
      // 第一种方式：字面量
      var o1 = {name: 'o1'};
      var o2 = new Object({name: 'o2'});
```

```js
      // 第二种方式：构造函数
      var M = function (name) { this.name = name; };
      var o3 = new M('o3');
```

```js
      // 第三种方式：Object.create
      var p = {name: 'p'};
      var o4 = Object.create(p);
```

![image-20210624172052826](https://gitee.com/sheep101/typora-img-save/raw/master/img/20210707111620.png)

### Object.create()

**`Object.create()`**方法创建一个新对象，使用现有的对象来提供新创建的对象的`_ proto _`。 

Object.create(null) 创建的对象是一个空对象，在该对象上没有继承 Object.prototype 原型链上的属性或者方法,例如：toString(), hasOwnProperty()等方法

Object.create()方法接受两个参数:`Object.create(obj,propertiesObject) `;

- obj:一个对象，应该是新创建的对象的原型。

- propertiesObject：可选。该参数对象是一组属性与值，该对象的属性名称将是新创建的对象的属性名称，值是属性描述符（这些属性描述符的结构与Object.defineProperties()的第二个参数一样）。注意：该参数对象不能是 undefined，另外只有该对象中自身拥有的可枚举的属性才有效，也就是说该对象的原型链上属性是无效的。

### 创建obj方式总结：

使用Object.create()是将对象继承到`_ proto_`属性上

**使用Object.create()是将对象继承到原型链上，然后可以通过对象实例的`__ proto __`属性进行访问原型链上的属性**

![image-20210625095635227](https://gitee.com/sheep101/typora-img-save/raw/master/img/20210707111736.png)

## 原型，构造函数、实例、原型链

![image-20210624172121035](https://gitee.com/sheep101/typora-img-save/raw/master/img/20210707111813.png)

```js
// 第二种方式：构造函数
// M 构造函数
// o3 实例  M+new-->o3
// o3._proto_  原型对象
  var M = function (name) { this.name = name; };
  var o3 = new M('o3');
```

## 前端与链表：JS 中的原型链

- 原型链的本质是链表
- 原型链上的节点是各种原型对象，比如` Function.prototype ` `Object.prototype`
- 原型链通过`__proto__`属性链接各种原型对象
- obj —>Object.prototype –>null
- func —> Function.prototype —> Object.prototype —> null
- arr  —> Array.prototypr  —>  Object.prototype —> null
- 如果A沿着原型链能找到B.prototype,那么A instanceof B 为 true
- 如果在A对象上没有找到X属性，那么会沿着原型链找X属性