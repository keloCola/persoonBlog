---
title: 使用 ES6 中 Set
date: 2021-07-26 12:52:04
permalink: /pages/ce707c/
categories:
  - 算法
  - 算法-集合
tags:
  - 
---
#  前端与集合：使用 ES6 中 Set 

-  使用set对象：`new，add, delete , has , size`
-  迭代set：多种方法，set与Array互转，求交集/差集
<!-- more -->
## 实例化set对象

```js
let mySet = new Set();//实例化一个set对象
```



## 添加

- 数字
- 字符串
- 对象

```js
mySet.add(1);//添加
mySet.add(5);
mySet.add('some text');
let o = { a: 1, b: 2 };
mySet.add(o);
mySet.add({ a: 1, b: 2 });

// const has = mySet.has(o);
```

> 添加两个5 会去重，添加两个对象由于引用地址则会存储

![image-20210726093253722](https://gitee.com/sheep101/typora-img-save/raw/master/img/20210726093253.png)





## 删除

```js
mySet.delete(5);
```

- size 可以获取当前对象的长度

![image-20210726093304766](https://gitee.com/sheep101/typora-img-save/raw/master/img/20210726123918.png)

## set 迭代方法

```js
//1 基础
for(let item of mySet) console.log(item)
//1
//some text
//object{a:1,b:2}
//object{a:1,b:2}

```

```js
for(let item of mySet.keys()) console.log(item);
//1
//some text
//object{a:1,b:2}
//object{a:1,b:2}
```

```js
for(let item of mySet.values()) console.log(item);
//1
//some text
//object{a:1,b:2}
//object{a:1,b:2}
```

```js
for(let [key,value] of mySet.entries()) console.log(key,value);
//1 1
//some text some text
//object{a:1,b:2} object{a:1,b:2}
//object{a:1,b:2} object{a:1,b:2}
```

> set 中 key 和 value 是相同的

## set 转 Array

```js
/**
 * set 转回 array
 */
const myArr0 = [...new Set(mySet)]
const myArr = Array.from(mySet);
```



## Array 转 set

```js
/**
 *  array 转为 set
 */
const mySet2 = new Set([1,2,3,4]);
```



## 求交集

```js
/**
 * 求交集
 */
// 先将myset转成数组 利用数组的filter方法进行过滤
const intersection = new Set([...mySet].filter(x => mySet2.has(x)));
```



## 求差集

```js
/**
 * 求差集
 */
const difference = new Set([...mySet].filter(x => !mySet2.has(x)));
```

