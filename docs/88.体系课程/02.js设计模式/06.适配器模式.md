---
title: 适配器模式
date: 2021-07-25 23:09:14
permalink: /pages/18d931/
categories:
  - 体系课程
  - js设计模式
tags:
  - 
---
# 第6章 适配器模式

将一个类的接口适配成用户所期待的，这就是适配器。替换老项目中jquery的$.ajax，vue中计算机属性computed的使用，都可以看作是适配器模式。

## 6-1 适配器模式

- 旧接口格式和使用者不兼容
- 中间加一个适配转换接口
<!-- more -->
## 传统UML类图

![image-20210724220511381](https://gitee.com/sheep101/typora-img-save/raw/master/img/20210724220511.png)

## 简化后的UML类图

![image-20210724220726366](https://gitee.com/sheep101/typora-img-save/raw/master/img/20210724220738.png)

## 6-2 适配器模式-演示

```js {8-10,12}
class Adaptee{
  specificRequest(){
    return '德国标准插头'
  }
}

class Target{
  constructor(){
    this.adaptee = new Adaptee()
  }
  request(){
    let info = this.adaptee.specificRequest()//调用Adaptee类中的specificRequest方法
    return `${info} -转换器- 中国标准插头`
  }
}

//测试
let taget = new Target()
let res = taget.request()
```	 

## 6-3 适配器模式-场景(封装旧接口&Vue的computed)

### 封装旧接口

![image-20210724221828711](https://gitee.com/sheep101/typora-img-save/raw/master/img/20210724221828.png)

![image-20210724221846794](https://gitee.com/sheep101/typora-img-save/raw/master/img/20210724221846.png)

### Vue的computed

现在有一个需求，要将它 正序，逆序都显示

逆序过程中我们借助computed 将message进行处理，相当于有个中间商帮我们适配了

![image-20210724222038164](https://gitee.com/sheep101/typora-img-save/raw/master/img/20210724222038.png)

::: details 代码



```html
<!DOCTYPE html>
<head>
  <title>Document</title>
</head>
<body>
  <div id="app">
    <div>顺序：{{message}}</div>
    <div>逆序：{{reversedMessage}}</div>
  </div>
 <!-- 引入vue -->
 <script src="..."></script>
 <script>
   var vm = new Vue({
     el:"#app",
     data:{
       message:'hello'
     },
     computed:{
       reversedMessage:function(){
         return this.message.split('').reverse().join('')
       }
     }
   })
 </script>
</body>
</html>
```

:::

## 设计原则验证

- 将旧接口和使用者进行分离
- 符合开放封闭原则